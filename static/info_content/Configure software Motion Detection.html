<!DOCTYPE html>
<html lang="en-us" xml:lang="en-us">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" type="text/css" /><title>15G. Configure software Motion Detection</title>
        <link href="../Resources/Stylesheets/XProtect VMS deployment best practice v1.2.css" rel="stylesheet" />
    </head>
    <body>
        <h3 class="Heading3"><span class="span_2">15G. </span>Configure software Motion Detection</h3>
        <p>If you will be using software video motion detection (VMD) for triggering recording rules (or any other rules) or alarms, or want to enable users to search in-motion metadata through the Smart Client Sequence Explorer, you must configure motion detection for each camera on the Devices &gt; Cameras &gt; Motion tab.</p>
        <p>If you will not be using software VMD, you may disable it to save server resources.</p>
        <p class="Notetext"><span class="span_3">Not</span><span class="span_3">e:</span> The preview image switches from the default live stream to the stream designated as the recording stream (if it is not the same stream) when you select the motion detection tab.</p>
        <h4 class="Heading4">Verify motion detection and hardware acceleration options</h4>
        <p>Verify motion detection (VMD) is enabled (default setting)/disabled as desired for each camera or group of cameras.</p>
        <p>If the server has one or more NVIDIA graphics cards and/or supports Intel Quick Sync, the Recording Server will use the graphics processing units (GPUs) for VMD when set to automatic (default setting). This will reduce the CPU load on the recording server during video motion analysis and improve the general performance of the recording server.</p>
        <p>Since hardware acceleration is subject to the actual server and NVIDIA graphics card hardware and BIOS configuration, you should verify that each recording server is, in fact, using hardware acceleration as intended by verifying the CPU and GPU load on each recording server.</p>
        <p>You can view the GPU load through the XProtect VMS System Monitor, Windows Task Manager or by using a third-party tool such as GPU-z.</p>
        <h4 class="Heading4">Configure exclusion regions</h4>
        <p>Enable exclude regions and configure any area you prefer to except from VMD on each camera.</p>
        <p>Areas covered by a permanent privacy masking are automatically exempted from VMD.</p>
        <h4 class="Heading4">Select image processing, detection resolution and keyframe processing settings</h4>
        <p>By default, to save CPU/GPU power, video streams and Images are processed only every 500 mS for VMD purposes. You should adjust this if the specific application requires a more frequent processing rate, or can function with a less frequent rate.</p>
        <p class="p_2">Also, by default the Recording Server decodes only keyframes on streaming video formats (MPEG4/H.264/H.265) for VMD purposes. This means if you have a keyframe interval/GOP length of one second, the server will process only that one image per second even if you specify a more frequent processing interval on the Process image every (msec) dropdown list.</p>
        <p class="p_2">To further save CPU/GPU processing power, the Recording Server VMD, by default, processes only 12% of the pixels in the image. In some cases, particularly if you need to detect very minor changes in the image, you may need to increase the percentage of pixels used for VMD.</p>
        <p>Verify and adjust settings as desired for each camera as needed.</p>
        <p class="Notetext"><span class="span_3">Note:</span> Detecting motion more frequently and/or decoding the full stream (not only keyframes) for VMD will increase the GPU and/or CPU load on the recording server. Make sure the server hardware is specified to support this.</p>
        <p class="Notetext"><span class="span_3">Note: </span>If the camera is configured to use a Smart Codec that dynamically adjusts the GOP, Milestone recommends using the full stream (not only keyframes) for VMD to ensure the Recording Server processes images frequently enough to provide reliable motion detection.</p>
        <h4 class="Heading4">Determine motion detection sensitivity settings</h4>
        <p>By default, the motion sensitivity (i.e., how sensitive each pixel is to changes) is adjusted dynamically for each camera by an algorithm. This allows the sensitivity to change depending on the conditionsâ€”for example, between night and day, sun or rain, etc.</p>
        <p>In some cases, if you are having difficulties getting reliable motion detection (i.e., too little or too much motion detected) at specific, critical conditions, it might be desirable to set a fixed level manually.</p>
        <h4 class="Heading4">Adjust motion detection threshold</h4>
        <p>The motion detection threshold determines how many pixels must be above the motion sensitivity level before the Recording Server should regard it as a positive detection of motion.</p>
        <p>Adjust the VMD threshold for each camera to the point where the number of false detections is at a minimum while actual motion is reliably detected.</p>
        <p class="Seealso">See also: <a href="Configure streams.html" class="MCXref_ParaTextOnly_0">15C. Configure streams</a>, <a href="Perform a walk test for all cameras with motion detection.html" class="MCXref_ParaTextOnly_0">31A. Perform a walk test for all cameras with motion detection</a></p>
        <p class="Addtionalresources">Additional resources:</p>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1">Milestone XProtect VMS Products - Administrator manual &gt; Motion tab (devices)</li>
        </ul>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1">XProtect Smart Client - Hardware acceleration quick guide</li>
        </ul>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1">Milestone XProtect VMS Products - Administrator manual &gt; Hardware acceleration (explained)</li>
        </ul>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1"><a href="https://www.milestonesys.com/files/White%20papers/Intel-MilestoneSystems-QuickSyncVideo_HW%20acceleration-WP_r04%20Final.pdf">https://www.milestonesys.com/files/White%20papers/Intel-MilestoneSystems-QuickSyncVideo_HW%20acceleration-WP_r04%20Final.pdf</a>
            </li>
        </ul>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1"><a href="https://www.milestonesys.com/globalassets/materials/documents/product_updates/productupdate_r1_2017_everythingyouneedtoknow.pdf">https://www.milestonesys.com/globalassets/materials/documents/product_updates/productupdate_r1_2017_everythingyouneedtoknow.pdf</a>
            </li>
        </ul>
        <ul class="ul_3">
            <li class="AddlResBulletedList" value="1"><a href="https://www.techpowerup.com">https://www.techpowerup.com</a>
            </li>
        </ul>
    </body>
</html>